unsigned int __stdcall sub_407720()
{
  unsigned int i; // edi
  void **v1; // eax
  void *v2; // esi
  char v4; // [esp+13h] [ebp-2Dh]
  _BYTE v5[4]; // [esp+14h] [ebp-2Ch] BYREF
  void *Block; // [esp+18h] [ebp-28h]
  int v7; // [esp+1Ch] [ebp-24h]
  int v8; // [esp+20h] [ebp-20h]
  _BYTE v9[4]; // [esp+24h] [ebp-1Ch] BYREF
  void *v10; // [esp+28h] [ebp-18h]
  int v11; // [esp+2Ch] [ebp-14h]
  int v12; // [esp+30h] [ebp-10h]
  int v13; // [esp+3Ch] [ebp-4h]

  v9[0] = v4;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 1;
  v5[0] = v4;
  Block = 0;
  v7 = 0;
  v8 = 0;
  sub_409160(v9, v5);
  for ( i = 0; ; ++i )
  {
    v1 = (void **)v10;
    if ( !v10 || i >= (v11 - (int)v10) >> 2 )
      break;
    if ( *(int *)&FileName[268] > 10 )
    {
      do
        Sleep(0x64u);
      while ( *(int *)&FileName[268] > 10 );
      v1 = (void **)v10;
    }
    v2 = (void *)beginthreadex(0, 0, sub_4076B0, v1[i], 0, 0);
    if ( v2 )
    {
      InterlockedIncrement((volatile LONG *)&FileName[268]);
      CloseHandle(v2);
    }
    Sleep(0x32u);
  }
  endthreadex(0);
  sub_4097FE(Block);
  Block = 0;
  v7 = 0;
  v8 = 0;
  sub_4097FE(v10);
  return 0;
}